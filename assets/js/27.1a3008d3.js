(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{342:function(s,a,n){"use strict";n.r(a);var e=n(7),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("数据表信息说明：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("SQL")]),s._v(" 下载地址："),a("a",{attrs:{href:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/16/332658afbd7d279ae4323263daab28ca.sql",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击下载"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("code",[s._v("employees")]),s._v(" 表 有"),a("code",[s._v("107")]),s._v(" 条记录，包括一条 "),a("code",[s._v("department_id")]),s._v("  为 "),a("code",[s._v("NULL")])]),s._v(" "),a("li",[a("code",[s._v("departments")]),s._v(" 表有 "),a("code",[s._v("27")]),s._v(" 条记录")]),s._v(" "),a("li",[a("code",[s._v("employees")]),s._v(" 表和 "),a("code",[s._v("departments")]),s._v(" 有两个同名字段 "),a("code",[s._v("department_id")]),s._v(" 和 "),a("code",[s._v("manager_id")])])]),s._v(" "),a("h2",{attrs:{id:"需求分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需求分析"}},[s._v("#")]),s._v(" 需求分析")]),s._v(" "),a("p",[s._v("员工信息在 "),a("code",[s._v("A")]),s._v(" 表，包括部门编号，部门详细信息在 "),a("code",[s._v("B")]),s._v(" 表，包括编号和地址，想要知道某个员工的姓名和部门地址需要先查询 "),a("code",[s._v("A")]),s._v(" 表然后再通过获取的部门编号去 "),a("code",[s._v("B")]),s._v(" 表查询部门地址。")]),s._v(" "),a("h2",{attrs:{id:"初步探索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初步探索"}},[s._v("#")]),s._v(" 初步探索")]),s._v(" "),a("p",[s._v("尝试在 "),a("code",[s._v("FROM")]),s._v(" 中同时使用 "),a("code",[s._v("employees")]),s._v(" 表和 "),a("code",[s._v("departments")]),s._v(" 表直接查询")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SELECT "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" count\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FROM employees"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("departments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2889")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" row in set "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("共获取到 "),a("code",[s._v("2889")]),s._v(" 条记录，因为上面的查询中没有限制条件，将两张所有的记录进行了 "),a("strong",[s._v("交叉连接")]),s._v("，产生了 "),a("strong",[s._v("笛卡尔积错误")]),s._v("，返回的记录数 "),a("code",[s._v("=")]),s._v(" 表 "),a("code",[s._v("A")]),s._v(" 记录数 "),a("code",[s._v("×")]),s._v(" 表 "),a("code",[s._v("B")]),s._v(" 记录数")]),s._v(" "),a("p",[s._v("使用有效的约束条件可以避免 "),a("strong",[s._v("笛卡尔积错误")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT COUNT(*) count\n    -> FROM employees e,departments d\n    -> WHERE e.department_id=d.department_id;\n+-------+\n| count |\n+-------+\n|   106 |\n+-------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("但是，这里统计出来的是 "),a("code",[s._v("106")]),s._v(" 条数据，而 "),a("code",[s._v("employees")]),s._v(" 表中是 "),a("code",[s._v("107")]),s._v(" 条数据，因为 "),a("code",[s._v("employees")]),s._v(" 表中有一条数据的 "),a("code",[s._v("department_id")]),s._v(" 为 "),a("code",[s._v("NULL")]),s._v("，无法与 "),a("code",[s._v("departments")]),s._v(" 表中任何一条数据匹配，所以只有 "),a("code",[s._v("106")]),s._v(" 条数据，这里使用的多表查询是 "),a("code",[s._v("SQL-92")]),s._v(" 标准的 "),a("strong",[s._v("内连接")]),s._v("。")]),s._v(" "),a("p",[s._v("之前学习过 可以在 "),a("code",[s._v("SELECT")]),s._v(" 语句中给字段名取别名，同样的也可以给表名取别名，上面示例中，分别给 "),a("code",[s._v("employees")]),s._v(" 和 "),a("code",[s._v("departments")]),s._v(" 取了别名，然后可以在 "),a("code",[s._v("WHERE")]),s._v(" 语句中使用，以及后面学习的 "),a("code",[s._v("JOIN...ON")]),s._v(" 语句，同时一旦给表名取了别名，就无法使用表名的名字了。")]),s._v(" "),a("p",[s._v("多表查询不仅仅局限连接两张表")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SELECT *\nFROM table_1,table_2,talbe_3\nWHERE table_1.field_1=table_2.field_1 and table_2.field_1=table_3.field_1;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("对 "),a("code",[s._v("n")]),s._v(" 个表进行多表查询，至少需要 "),a("em",[s._v("n-1")]),s._v(" 个条件。")]),s._v(" "),a("h2",{attrs:{id:"不同角度对多表查询的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不同角度对多表查询的分类"}},[s._v("#")]),s._v(" 不同角度对多表查询的分类")]),s._v(" "),a("p",[s._v("具体可以分为三大类：")]),s._v(" "),a("ul",[a("li",[s._v("等值连接和非等值连接；")]),s._v(" "),a("li",[s._v("自连接和非自连接；")]),s._v(" "),a("li",[a("strong",[s._v("内连接")]),s._v(" 和 "),a("strong",[s._v("外连接")]),s._v("；")])]),s._v(" "),a("h3",{attrs:{id:"等值连接和非等值连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#等值连接和非等值连接"}},[s._v("#")]),s._v(" 等值连接和非等值连接")]),s._v(" "),a("p",[s._v("就是约束条件是否可以使用等号相等起来的，上面的 "),a("code",[s._v("e.department_id=d.department_id")]),s._v(" 就是一个 "),a("strong",[s._v("等值连接")]),s._v("，而比如 "),a("code",[s._v("e.department_id IN(1,2,3)")]),s._v(" 是 "),a("strong",[s._v("非等值连接")]),s._v("。"),a("em",[s._v("非重点")])]),s._v(" "),a("h3",{attrs:{id:"自连接和非自连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自连接和非自连接"}},[s._v("#")]),s._v(" 自连接和非自连接")]),s._v(" "),a("p",[s._v("多表查询时，连接的其他表是自己本身的表还是非自身的表。上面的通过 "),a("code",[s._v("A")]),s._v(" 表的部门编号再查询到 "),a("code",[s._v("B")]),s._v(" 表中的部门地址是 "),a("strong",[s._v("非自连接")]),s._v("，而比如查询自己的上级，可能就可能还是在本表查询，是 "),a("strong",[s._v("自连接")]),s._v("。"),a("em",[s._v("非重点")])]),s._v(" "),a("h3",{attrs:{id:"内连接和外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内连接和外连接"}},[s._v("#")]),s._v(" 内连接和外连接")]),s._v(" "),a("h4",{attrs:{id:"内连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内连接"}},[s._v("#")]),s._v(" 内连接")]),s._v(" "),a("p",[s._v("合并具有同一列两个以上的表，结构集中只包括满足所有条件要求的记录集合；")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/7630361e389834c34bc988e0cc5af0e0.png",alt:"INNER_JOIN"}})]),s._v(" "),a("p",[s._v("这就是内连接，红色部分表示结果集。")]),s._v(" "),a("h4",{attrs:{id:"外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外连接"}},[s._v("#")]),s._v(" 外连接")]),s._v(" "),a("p",[s._v("合并具有同一列两个以上的表，结果集中包括不满足条件的记录；")]),s._v(" "),a("p",[s._v("上面 "),a("strong",[s._v("内连接")]),s._v(" 的示意图中，只要有结果集的记录是示意图红色之外的，就是 "),a("strong",[s._v("外连接")]),s._v("。")]),s._v(" "),a("p",[s._v("根据返回的不同的结果集，还分为 "),a("strong",[s._v("左外连接")]),s._v("、"),a("strong",[s._v("右外连接")]),s._v(" 和 "),a("strong",[s._v("满外连接")]),s._v("，固定的是左边的表是原来的表，右边的表是其他被连接的表。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("左外连接是以左边的表为主表，右边的表为从表，结果是主表的数据，在从表没有匹配到的结果设为 "),a("code",[s._v("NULL")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/28221bd2b444adc637c36d25bb50c45c.png",alt:"LEFT_JOIN"}})])]),s._v(" "),a("li",[a("p",[s._v("右外连接是以右边的表为主表，左边的表为从表，结果是主表的数据，主表在从表没有匹配到的结果设为 "),a("code",[s._v("NULL")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/4a959949adca7ebc099583c9c324027b.png",alt:"RIGHT_JOIN"}})])]),s._v(" "),a("li",[a("p",[s._v("满外连接的结果是主从表匹配的结果 + 主表没有匹配到的结果 + 从表没有匹配到的结果")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/6e140d3fb27e6a836047c361601e16fb.png",alt:"FULL_OUTER_JOIN"}})])])]),s._v(" "),a("p",[s._v("上面这三种 "),a("strong",[s._v("外连接")]),s._v("，内连接是它们的 "),a("strong",[s._v("子集")]),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"不同-sql-下的实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不同-sql-下的实现"}},[s._v("#")]),s._v(" 不同 "),a("code",[s._v("SQL")]),s._v(" 下的实现")]),s._v(" "),a("p",[a("code",[s._v("SQL")]),s._v(" 标准主要分为 "),a("code",[s._v("SQL92")]),s._v(" 和 "),a("code",[s._v("SQL99")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("SQL92")]),s._v("，又叫做 "),a("code",[s._v("SQL-2")]),s._v("，语法简单，但是语句长；")]),s._v(" "),a("li",[a("code",[s._v("SQL99")]),s._v("，又叫做 "),a("code",[s._v("SQL-3")]),s._v("，语法复杂，但是可读性强；")])]),s._v(" "),a("h3",{attrs:{id:"sql92"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql92"}},[s._v("#")]),s._v(" "),a("code",[s._v("SQL92")])]),s._v(" "),a("p",[s._v("对于内连接，就是简单的在 "),a("code",[s._v("FROM")]),s._v(" 语句选择多个表，然后 "),a("code",[s._v("WHERE")]),s._v(" 语句中写全约束条件。就是上面一些示例中的使用这种实现。")]),s._v(" "),a("p",[s._v("对于外连接，使用 "),a("code",[s._v("+")]),s._v(" 实现，但是"),a("code",[s._v("MySQL")]),s._v(" 不支持这种标准的外连接写法，就不深入探究了。")]),s._v(" "),a("h3",{attrs:{id:"sql99"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql99"}},[s._v("#")]),s._v(" "),a("code",[s._v("SQL99")])]),s._v(" "),a("p",[s._v("使用 "),a("code",[s._v("JOIN...ON...")]),s._v(" 关键字实现多表查询")]),s._v(" "),a("p",[a("code",[s._v("SQL99")]),s._v(" 语法的 "),a("strong",[s._v("内连接")]),s._v("、"),a("strong",[s._v("外连接")]),s._v(" 的关键字如下：")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("INNER JOIN...ON...")]),s._v(" 内连接")]),s._v(" "),a("p",[a("code",[s._v("INNER")]),s._v(" 关键字可以省略")]),s._v(" "),a("p",[a("code",[s._v("INNER JOIN ...ON...")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("LEFT OUTER JOIN...ON...")]),s._v(" 左外连接")]),s._v(" "),a("p",[a("code",[s._v("OUTER")]),s._v(" 关键字可以省略")]),s._v(" "),a("p",[a("code",[s._v("LEFT JOIN...ON...")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("RIGHT OUTER JOIN...ON...")]),s._v(" 右外连接")]),s._v(" "),a("p",[a("code",[s._v("OUTER")]),s._v(" 关键字可以省略")]),s._v(" "),a("p",[a("code",[s._v("RIGHT JOIN...ON...")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("FULL OUTER JOIN...ON...")]),s._v(" 满外连接")]),s._v(" "),a("p",[a("code",[s._v("OUTER")]),s._v(" 关键字可以省略")]),s._v(" "),a("p",[a("code",[s._v("FULL JOIN...ON...")])]),s._v(" "),a("p",[a("strong",[s._v("可惜的是，"),a("code",[s._v("MySQL")]),s._v(" 不支持这种写法的满外连接")]),s._v("，但是可以结合 "),a("code",[s._v("UNION")]),s._v(" 关键字实现 "),a("strong",[s._v("满外连接")])])])]),s._v(" "),a("p",[a("code",[s._v("SQL99")]),s._v(" 语法的 "),a("strong",[s._v("内连接")]),s._v("、"),a("strong",[s._v("外连接")]),s._v(" 具体实现在下面单独列出，并且再结合排除的形式组成七种连接。")]),s._v(" "),a("h2",{attrs:{id:"sql99-join-on-关键字的七种连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql99-join-on-关键字的七种连接"}},[s._v("#")]),s._v(" "),a("code",[s._v("SQL99")]),s._v(" "),a("code",[s._v("JOIN...ON...")]),s._v(" 关键字的七种连接")]),s._v(" "),a("p",[s._v("需用到的数据表下载："),a("a",{attrs:{href:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/0cbb5d8014a12afabcb780ac8b259532.zip",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击下载"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("em",[s._v("七种连接示意图")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/f41572247b68c2cae649241f8070b745.jpg",alt:"Visual_SQL_JOINS_orig"}})]),s._v(" "),a("h3",{attrs:{id:"前置知识-union-和-union-all-关键字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前置知识-union-和-union-all-关键字"}},[s._v("#")]),s._v(" 前置知识："),a("code",[s._v("UNION")]),s._v(" 和 "),a("code",[s._v("UNION ALL")]),s._v(" 关键字")]),s._v(" "),a("p",[s._v("使用这两个关键字可以将两个 "),a("code",[s._v("SELECT")]),s._v(" 语句的结果集，合并为一个结果集。其中，两个 "),a("code",[s._v("SELECT")]),s._v(" 语句的结果集的 "),a("strong",[s._v("列数")]),s._v(" 和 "),a("strong",[s._v("数据类型")]),s._v(" 必须相同。")]),s._v(" "),a("p",[s._v("这两个关键字之间的差别在合并后的结果集，"),a("code",[s._v("UNION")]),s._v(" 关键字可以实现两个结果集的的去重，但是这样子会导致效率低，而 "),a("code",[s._v("UNION ALL")]),s._v(" 关键字不会对去重，但是所需的资源比 "),a("code",[s._v("UNION")]),s._v(" 少。")]),s._v(" "),a("h3",{attrs:{id:"内连接-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内连接-2"}},[s._v("#")]),s._v(" 内连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/7630361e389834c34bc988e0cc5af0e0.png",alt:"INNER_JOIN"}})]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT table_a.`PK` "index",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> JOIN table_b b\n    -> ON table_a.PK=b.PK;\n+-------+------------+----------+\n| index | one        | two      |\n+-------+------------+----------+\n|     1 | FOX        | TROT     |\n|     2 | COP        | CAR      |\n|     3 | TAXI       | CAB      |\n|     6 | WASHINGTON | MONUMENT |\n|     7 | DELL       | PC       |\n+-------+------------+----------+\n5 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"左外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#左外连接"}},[s._v("#")]),s._v(" 左外连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/28221bd2b444adc637c36d25bb50c45c.png",alt:"LEFT_JOIN"}})]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> LEFT JOIN table_b b\n    -> ON table_a.PK=b.PK;\n+-------+---------+------------+----------+\n| index | index_2 | one        | two      |\n+-------+---------+------------+----------+\n|     1 |       1 | FOX        | TROT     |\n|     2 |       2 | COP        | CAR      |\n|     3 |       3 | TAXI       | CAB      |\n|     4 |    NULL | LINCOLN    | NULL     |\n|     5 |    NULL | ARIZONA    | NULL     |\n|     6 |       6 | WASHINGTON | MONUMENT |\n|     7 |       7 | DELL       | PC       |\n|    10 |    NULL | LUCENT     | NULL     |\n+-------+---------+------------+----------+\n8 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"右外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#右外连接"}},[s._v("#")]),s._v(" 右外连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/4a959949adca7ebc099583c9c324027b.png",alt:"RIGHT_JOIN"}})]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> RIGHT JOIN table_b b\n    -> ON table_a.PK=b.PK;\n+-------+---------+------------+-----------+\n| index | index_2 | one        | two       |\n+-------+---------+------------+-----------+\n|     1 |       1 | FOX        | TROT      |\n|     2 |       2 | COP        | CAR       |\n|     3 |       3 | TAXI       | CAB       |\n|     6 |       6 | WASHINGTON | MONUMENT  |\n|     7 |       7 | DELL       | PC        |\n|  NULL |       8 | NULL       | MICROSOFT |\n|  NULL |       9 | NULL       | APPLE     |\n|  NULL |      11 | NULL       | SCOTCH    |\n+-------+---------+------------+-----------+\n8 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"满外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#满外连接"}},[s._v("#")]),s._v(" 满外连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/6e140d3fb27e6a836047c361601e16fb.png",alt:"FULL_OUTER_JOIN"}})]),s._v(" "),a("h4",{attrs:{id:"union-all-实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#union-all-实现"}},[s._v("#")]),s._v(" "),a("code",[s._v("UNION ALL")]),s._v(" 实现")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> LEFT JOIN table_b b\n    -> ON table_a.PK=b.PK\n    -> UNION ALL\n    -> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> RIGHT JOIN table_b b\n    -> ON table_a.PK=b.PK;\n+-------+---------+------------+-----------+\n| index | index_2 | one        | two       |\n+-------+---------+------------+-----------+\n|     1 |       1 | FOX        | TROT      |\n|     2 |       2 | COP        | CAR       |\n|     3 |       3 | TAXI       | CAB       |\n|     4 |    NULL | LINCOLN    | NULL      |\n|     5 |    NULL | ARIZONA    | NULL      |\n|     6 |       6 | WASHINGTON | MONUMENT  |\n|     7 |       7 | DELL       | PC        |\n|    10 |    NULL | LUCENT     | NULL      |\n|     1 |       1 | FOX        | TROT      |\n|     2 |       2 | COP        | CAR       |\n|     3 |       3 | TAXI       | CAB       |\n|     6 |       6 | WASHINGTON | MONUMENT  |\n|     7 |       7 | DELL       | PC        |\n|  NULL |       8 | NULL       | MICROSOFT |\n|  NULL |       9 | NULL       | APPLE     |\n|  NULL |      11 | NULL       | SCOTCH    |\n+-------+---------+------------+-----------+\n16 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("h4",{attrs:{id:"union-实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#union-实现"}},[s._v("#")]),s._v(" "),a("code",[s._v("UNION")]),s._v(" 实现")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> LEFT JOIN table_b b\n    -> ON table_a.PK=b.PK\n    -> UNION\n    -> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> RIGHT JOIN table_b b\n    -> ON table_a.PK=b.PK;\n+-------+---------+------------+-----------+\n| index | index_2 | one        | two       |\n+-------+---------+------------+-----------+\n|     1 |       1 | FOX        | TROT      |\n|     2 |       2 | COP        | CAR       |\n|     3 |       3 | TAXI       | CAB       |\n|     4 |    NULL | LINCOLN    | NULL      |\n|     5 |    NULL | ARIZONA    | NULL      |\n|     6 |       6 | WASHINGTON | MONUMENT  |\n|     7 |       7 | DELL       | PC        |\n|    10 |    NULL | LUCENT     | NULL      |\n|  NULL |       8 | NULL       | MICROSOFT |\n|  NULL |       9 | NULL       | APPLE     |\n|  NULL |      11 | NULL       | SCOTCH    |\n+-------+---------+------------+-----------+\n11 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h3",{attrs:{id:"左外连接不包括内连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#左外连接不包括内连接"}},[s._v("#")]),s._v(" 左外连接不包括内连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/6a2cbeec84794ec50272ca56175c10a6.png",alt:"LEFT_EXCLUDING_JOIN"}})]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> LEFT JOIN table_b b\n    -> ON table_a.PK=b.PK\n    -> WHERE b.`PK` IS NULL;\n+-------+---------+---------+------+\n| index | index_2 | one     | two  |\n+-------+---------+---------+------+\n|     4 |    NULL | LINCOLN | NULL |\n|     5 |    NULL | ARIZONA | NULL |\n|    10 |    NULL | LUCENT  | NULL |\n+-------+---------+---------+------+\n3 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"右外连接不包括内连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#右外连接不包括内连接"}},[s._v("#")]),s._v(" 右外连接不包括内连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/a529ab98487a373fa5485e0038cdb0b5.png",alt:"RIGHT_EXCLUDING_JOIN"}})]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> RIGHT JOIN table_b b\n    -> ON table_a.PK=b.PK\n    -> WHERE table_a.`PK` IS NULL;\n+-------+---------+------+-----------+\n| index | index_2 | one  | two       |\n+-------+---------+------+-----------+\n|  NULL |       8 | NULL | MICROSOFT |\n|  NULL |       9 | NULL | APPLE     |\n|  NULL |      11 | NULL | SCOTCH    |\n+-------+---------+------+-----------+\n3 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"满外连接不包括内连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#满外连接不包括内连接"}},[s._v("#")]),s._v(" 满外连接不包括内连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-static.xxcheng.cn/static/blog/images/2023/07/21/cedb3cc1d1a2055267c731515f398fcb.png",alt:"OUTER_EXCLUDING_JOIN"}})]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> LEFT JOIN table_b b\n    -> ON table_a.PK=b.PK\n    -> WHERE b.`PK` IS NULL\n    -> UNION ALL\n    -> SELECT table_a.`PK` "index",b.`PK` "index_2",table_a.`VALUE` "one",b.`VALUE` "two"\n    -> FROM table_a\n    -> RIGHT JOIN table_b b\n    -> ON table_a.PK=b.PK\n    -> WHERE table_a.`PK` IS NULL;\n+-------+---------+---------+-----------+\n| index | index_2 | one     | two       |\n+-------+---------+---------+-----------+\n|     4 |    NULL | LINCOLN | NULL      |\n|     5 |    NULL | ARIZONA | NULL      |\n|    10 |    NULL | LUCENT  | NULL      |\n|  NULL |       8 | NULL    | MICROSOFT |\n|  NULL |       9 | NULL    | APPLE     |\n|  NULL |      11 | NULL    | SCOTCH    |\n+-------+---------+---------+-----------+\n6 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("上面的实现的，使用的两个结果集没有重复的记录，使用 "),a("code",[s._v("UNION")]),s._v(" 或者 "),a("code",[s._v("UNION ALL")]),s._v(" 的结果集是一样的，所以这里使用 "),a("code",[s._v("UNION ALL")]),s._v(" 更高效。")]),s._v(" "),a("h2",{attrs:{id:"sql99-语言的新特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql99-语言的新特性"}},[s._v("#")]),s._v(" "),a("code",[s._v("SQL99")]),s._v(" 语言的新特性")]),s._v(" "),a("h3",{attrs:{id:"自然连接-natural-join"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自然连接-natural-join"}},[s._v("#")]),s._v(" 自然连接："),a("code",[s._v("NATURAL JOIN...")])]),s._v(" "),a("p",[s._v("自动查询两张表同名字段，然后进行 "),a("strong",[s._v("等值连接")])]),s._v(" "),a("p",[s._v("用于 "),a("strong",[s._v("内连接")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.employee_id,last_name,d.department_name\n    -> FROM employees e\n    -> NATURAL JOIN departments d;\n+-------------+------------+-----------------+\n| employee_id | last_name  | department_name |\n+-------------+------------+-----------------+\n|         202 | Fay        | Marketing       |\n|         115 | Khoo       | Purchasing      |\n|         116 | Baida      | Purchasing      |\n-- ... ...\n|         112 | Urman      | Finance         |\n|         113 | Popp       | Finance         |\n|         206 | Gietz      | Accounting      |\n+-------------+------------+-----------------+\n32 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("等效操作：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.employee_id,last_name,d.department_name\n    -> FROM employees e\n    -> JOIN departments d\n    -> ON d.department_id=e.department_id\n    -> AND d.manager_id=e.manager_id;\n+-------------+------------+-----------------+\n| employee_id | last_name  | department_name |\n+-------------+------------+-----------------+\n|         202 | Fay        | Marketing       |\n|         115 | Khoo       | Purchasing      |\n|         116 | Baida      | Purchasing      |\n-- ... ...\n|         112 | Urman      | Finance         |\n|         113 | Popp       | Finance         |\n|         206 | Gietz      | Accounting      |\n+-------------+------------+-----------------+\n32 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("这种操作不够灵活，有些时候想查询的并不是自己想要的结果，就比如上面这种，想要查询的是每个员工对应的是哪个部门。")]),s._v(" "),a("h3",{attrs:{id:"using-join-using"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-join-using"}},[s._v("#")]),s._v(" "),a("code",[s._v("USING")]),s._v("："),a("code",[s._v("JOIN...USING()")])]),s._v(" "),a("p",[s._v("与上面不同的是，我们手动选择比较哪些同名字段，然后进行 "),a("strong",[s._v("等值连接")])]),s._v(" "),a("p",[s._v("用于 "),a("strong",[s._v("内连接")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.employee_id,last_name,d.department_name\n    -> FROM employees e\n    -> JOIN departments d\n    -> USING(department_id);\n+-------------+-------------+------------------+\n| employee_id | last_name   | department_name  |\n+-------------+-------------+------------------+\n|         200 | Whalen      | Administration   |\n|         201 | Hartstein   | Marketing        |\n|         202 | Fay         | Marketing        |\n-- ... ...\n|         113 | Popp        | Finance          |\n|         205 | Higgins     | Accounting       |\n|         206 | Gietz       | Accounting       |\n+-------------+-------------+------------------+\n106 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("等效操作：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.employee_id,last_name,d.department_name\n    -> FROM employees e\n    -> JOIN departments d\n    -> ON e.department_id=d.department_id;\n+-------------+-------------+------------------+\n| employee_id | last_name   | department_name  |\n+-------------+-------------+------------------+\n|         200 | Whalen      | Administration   |\n|         201 | Hartstein   | Marketing        |\n|         202 | Fay         | Marketing        |\n-- ... ...\n|         113 | Popp        | Finance          |\n|         205 | Higgins     | Accounting       |\n|         206 | Gietz       | Accounting       |\n+-------------+-------------+------------------+\n106 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("相对灵活，但无法 "),a("strong",[s._v("自连接")])]),s._v(" "),a("h2",{attrs:{id:"练习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#练习"}},[s._v("#")]),s._v(" 练习")]),s._v(" "),a("h3",{attrs:{id:"_1-显示所有员工的姓名-部门号和部门名称"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-显示所有员工的姓名-部门号和部门名称"}},[s._v("#")]),s._v(" 1. 显示所有员工的姓名，部门号和部门名称")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.last_name,e.department_id,d.department_name\n    -> FROM employees e\n    -> LEFT JOIN departments d\n    -> ON d.department_id=e.department_id;\n+-------------+---------------+------------------+\n| last_name   | department_id | department_name  |\n+-------------+---------------+------------------+\n| King        |            90 | Executive        |\n| Kochhar     |            90 | Executive        |\n| De Haan     |            90 | Executive        |\n| Hunold      |            60 | IT               |\n| Ernst       |            60 | IT               |\n| Austin      |            60 | IT               |\n-- ... ...\n| Baer        |            70 | Public Relations |\n| Higgins     |           110 | Accounting       |\n| Gietz       |           110 | Accounting       |\n+-------------+---------------+------------------+\n107 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"_2-查询90号部门员工的-job-id-和-90-号部门的-location-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-查询90号部门员工的-job-id-和-90-号部门的-location-id"}},[s._v("#")]),s._v(" 2. 查询90号部门员工的 "),a("code",[s._v("job_id")]),s._v(" 和 "),a("code",[s._v("90")]),s._v(" 号部门的 "),a("code",[s._v("location_id")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.last_name,e.job_id,d.location_id,e.department_id\n    -> FROM employees e\n    -> JOIN departments d\n    -> ON e.department_id=d.department_id\n    -> WHERE e.department_id=90;\n+-----------+---------+-------------+---------------+\n| last_name | job_id  | location_id | department_id |\n+-----------+---------+-------------+---------------+\n| King      | AD_PRES |        1700 |            90 |\n| Kochhar   | AD_VP   |        1700 |            90 |\n| De Haan   | AD_VP   |        1700 |            90 |\n+-----------+---------+-------------+---------------+\n3 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"_3-选择所有有奖金的员工的-last-name-、department-name、location-id、city"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-选择所有有奖金的员工的-last-name-、department-name、location-id、city"}},[s._v("#")]),s._v(" 3. 选择所有有奖金的员工的 "),a("code",[s._v("last_name")]),s._v(" 、"),a("code",[s._v("department_name")]),s._v("、"),a("code",[s._v("location_id")]),s._v("、"),a("code",[s._v("city")])]),s._v(" "),a("p",[a("em",[s._v("需要考虑有的员工没有没有分配部门")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.last_name,d.department_name,l.location_id,l.city\n    -> FROM employees e\n    -> LEFT JOIN departments d\n    -> ON d.department_id=e.department_id\n    -> LEFT JOIN locations l\n    -> ON l.location_id=d.location_id\n    -> WHERE e.commission_pct IS NOT NULL;\n+------------+-----------------+-------------+--------+\n| last_name  | department_name | location_id | city   |\n+------------+-----------------+-------------+--------+\n| Russell    | Sales           |        2500 | Oxford |\n| Partners   | Sales           |        2500 | Oxford |\n| Errazuriz  | Sales           |        2500 | Oxford |\n-- ... ...\n| Taylor     | Sales           |        2500 | Oxford |\n| Livingston | Sales           |        2500 | Oxford |\n| Grant      | NULL            |        NULL | NULL   |\n| Johnson    | Sales           |        2500 | Oxford |\n+------------+-----------------+-------------+--------+\n35 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h3",{attrs:{id:"_4-选择-city-在-toronto-工作的员工的-last-name、job-id、department-id、department-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-选择-city-在-toronto-工作的员工的-last-name、job-id、department-id、department-name"}},[s._v("#")]),s._v(" 4. 选择 "),a("code",[s._v("city")]),s._v(" 在 "),a("code",[s._v("Toronto")]),s._v(" 工作的员工的 "),a("code",[s._v("last_name")]),s._v("、"),a("code",[s._v("job_id")]),s._v("、"),a("code",[s._v("department_id")]),s._v("、"),a("code",[s._v("department_name")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.last_name,e.job_id,d.department_id,d.department_name\n    -> FROM employees e\n    -> JOIN departments d\n    -> ON e.department_id=d.department_id\n    -> JOIN locations l\n    -> ON d.location_id=l.location_id\n    -> AND l.city='Toronto';\n+-----------+--------+---------------+-----------------+\n| last_name | job_id | department_id | department_name |\n+-----------+--------+---------------+-----------------+\n| Hartstein | MK_MAN |            20 | Marketing       |\n| Fay       | MK_REP |            20 | Marketing       |\n+-----------+--------+---------------+-----------------+\n2 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"_5-查询员工所在的部门名称、部门地址、姓名、工作、工资-其中员工所在部门的部门名称为-executive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-查询员工所在的部门名称、部门地址、姓名、工作、工资-其中员工所在部门的部门名称为-executive"}},[s._v("#")]),s._v(" 5. 查询员工所在的部门名称、部门地址、姓名、工作、工资，其中员工所在部门的部门名称为 "),a("code",[s._v("Executive")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.last_name,d.department_name,e.salary,l.street_address,j.job_id\n    -> FROM employees e\n    -> JOIN departments d\n    -> ON d.department_id=e.department_id\n    -> AND d.department_name='Executive'\n    -> LEFT JOIN locations l\n    -> ON l.location_id=d.location_id\n    -> LEFT JOIN jobs j\n    -> ON e.job_id=j.job_id;\n+-----------+-----------------+----------+-----------------+---------+\n| last_name | department_name | salary   | street_address  | job_id  |\n+-----------+-----------------+----------+-----------------+---------+\n| King      | Executive       | 24000.00 | 2004 Charade Rd | AD_PRES |\n| Kochhar   | Executive       | 17000.00 | 2004 Charade Rd | AD_VP   |\n| De Haan   | Executive       | 17000.00 | 2004 Charade Rd | AD_VP   |\n+-----------+-----------------+----------+-----------------+---------+\n3 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"_6-选择指定员工的姓名、员工号-以及他的管理者的姓名和员工号-结果类似于下面的格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-选择指定员工的姓名、员工号-以及他的管理者的姓名和员工号-结果类似于下面的格式"}},[s._v("#")]),s._v(" 6. 选择指定员工的姓名、员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("employees\tEmp#\tmanager\tMgr#\nkochhar\t\t101\tking\t100\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('mysql> SELECT e.last_name employees,e.employee_id "Emp#",m.last_name manager,m.employee_id "Mgr#"\n    -> FROM employees e\n    -> LEFT JOIN employees m\n    -> ON e.manager_id=m.employee_id;\n+-------------+------+-----------+------+\n| employees   | Emp# | manager   | Mgr# |\n+-------------+------+-----------+------+\n| King        |  100 | NULL      | NULL |\n| Kochhar     |  101 | King      |  100 |\n| De Haan     |  102 | King      |  100 |\n-- ... ...\n| Baer        |  204 | Kochhar   |  101 |\n| Higgins     |  205 | Kochhar   |  101 |\n| Gietz       |  206 | Higgins   |  205 |\n+-------------+------+-----------+------+\n107 rows in set (0.00 sec)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"_7-查询哪些部门没有员工"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-查询哪些部门没有员工"}},[s._v("#")]),s._v(" 7. 查询哪些部门没有员工")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT d.department_name,d.department_id\n    -> FROM departments d\n    -> LEFT JOIN employees e\n    -> ON d.department_id=e.department_id\n    -> WHERE e.department_id IS NULL;\n+----------------------+---------------+\n| department_name      | department_id |\n+----------------------+---------------+\n| Treasury             |           120 |\n| Corporate Tax        |           130 |\n| Control And Credit   |           140 |\n| Shareholder Services |           150 |\n| Benefits             |           160 |\n| Manufacturing        |           170 |\n| Construction         |           180 |\n| Contracting          |           190 |\n| Operations           |           200 |\n| IT Support           |           210 |\n| NOC                  |           220 |\n| IT Helpdesk          |           230 |\n| Government Sales     |           240 |\n| Retail Sales         |           250 |\n| Recruiting           |           260 |\n| Payroll              |           270 |\n+----------------------+---------------+\n16 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"_8-查询哪个城市没有部门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-查询哪个城市没有部门"}},[s._v("#")]),s._v(" 8. 查询哪个城市没有部门")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT l.city\n    -> FROM locations l\n    -> LEFT JOIN departments d\n    -> ON d.location_id=l.location_id\n    -> WHERE d.location_id IS NULL;\n+-----------------+\n| city            |\n+-----------------+\n| Roma            |\n| Venice          |\n| Tokyo           |\n| Hiroshima       |\n| South Brunswick |\n| Whitehorse      |\n| Beijing         |\n| Bombay          |\n| Sydney          |\n| Singapore       |\n| Stretford       |\n| Sao Paulo       |\n| Geneva          |\n| Bern            |\n| Utrecht         |\n| Mexico City     |\n+-----------------+\n16 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"_9-查询部门名为-sales-或-it-的员工信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-查询部门名为-sales-或-it-的员工信息"}},[s._v("#")]),s._v(" 9. 查询部门名为 "),a("code",[s._v("Sales")]),s._v(" 或 "),a("code",[s._v("IT")]),s._v(" 的员工信息")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> SELECT e.employee_id,e.last_name\n    -> FROM departments d\n    -> JOIN employees e\n    -> ON e.department_id=d.department_id\n    -> WHERE d.department_name IN('Sales','IT');\n+-------------+------------+\n| employee_id | last_name  |\n+-------------+------------+\n|         103 | Hunold     |\n|         104 | Ernst      |\n|         105 | Austin     |\n-- ... ...\n|         176 | Taylor     |\n|         177 | Livingston |\n|         179 | Johnson    |\n+-------------+------------+\n39 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h2",{attrs:{id:"参考连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考连接"}},[s._v("#")]),s._v(" 参考连接")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins",target:"_blank",rel:"noopener noreferrer"}},[s._v("Visual Representation of SQL Joins"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/Merciful_Lion/article/details/124527543",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL基础~NATURAL JOIN（自然连接） 和USING的使用（SQL99语法新特性）"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=t.exports}}]);